{
	"directory.users": {
		"title": "Add and view users",
		"tbl_source": {
			"table": {
				"action": "panel_list_users",
				"var": "users",
				"cols": ["username", "name", "description", "flags"],
				"val": {}
			}
		},
		"content": [{
				"type": "Form",
				"name": "form",
				"class": "tbl-ctrl",
				"elements": [{
						"type": "Button",
						"name": "Add User",
						"glyph": "plus",
						"action": "modal",
						"reducers": ["modal"],
						"modal": {
							"title": "Create an User",
							"table_name": "table",
							"refresh_action": "panel_list_users",
							"buttons": [{
									"type": "Button",
									"name": "Cancel",
									"action": "cancel"
								}, {
									"type": "Button",
									"name": "Add user",
									"class": "primary",
									"action": "add_user"
								}
							],
							"content": [{
									"type": "Form",
									"name": "form",
									"class": "left",
									"elements": [{
											"type": "text",
											"name": "Username",
											"value": "",
											"label": "Username",
											"required": true
										}, {
											"type": "password",
											"name": "Password",
											"value": "",
											"label": "Password",
											"required": true
										}, {
											"type": "text",
											"name": "Name",
											"value": "",
											"label": "First name"
										}, {
											"type": "text",
											"name": "Surname",
											"value": "",
											"label": "Last name"
										}, {
											"type": "text",
											"name": "email",
											"value": "",
											"label": "E-mail"
										}, {
											"type": "text",
											"name": "unit",
											"value": "",
											"label": "Organizational unit"
										}, {
											"type": "checkbox",
											"name": "vpn",
											"value": false,
											"label": "Change password at next login",
											"required": false
										}
									]
								}, {
									"type": "Div",
									"class": "right",
									"elements": [{
											"type": "Heading",
											"name": "Fill the form to add a new user"
										}, {
											"type": "Paragraph",
											"name": "The new user will be automatically synchronized with Active Directory."
										}
									]
								}
							]
						}
					}
				]
			}, {
				"type": "Table",
				"name": "table",
				"reducers": ["table", "filter", "panel", "modal", "alert"],
				"source": "panel_list_users",
				"columns": [{
						"key": "username",
						"label": "Username"
					}, {
						"key": "name",
						"label": "Name"
					}, {
						"key": "description",
						"label": "Description"
					}, {
						"key": "flags",
						"label": "Status"
					}, {
						"key": "action",
						"label": "Actions"
					}
				],
				"id": "username",
				"modals": {
					"edit_user": {
						"title": "Edit user",
						"buttons": [{
								"type": "Button",
								"name": "Cancel",
								"action": "cancel"
							}, {
								"type": "Button",
								"name": "Change",
								"class": "primary",
								"action": "get_user_data"
							}
						],
						"content": [{
								"type": "Form",
								"name": "form",
								"class": "left",
                                "form_source" : {
                                    "action" : "get_user_data",
                                    "positional_args" : 1
                                },
								"elements": [{
										"type": "text",
										"name": "first_name",
										"value": "",
										"label": "First name",
										"required": false
									}, {
										"type": "text",
										"name": "last_name",
										"value": "",
										"label": "Last name",
										"required": false
									}, {
										"type": "text",
										"name": "display_name",
										"value": "",
										"label": "Display name",
										"required": false
									}, {
										"type": "text",
										"name": "description",
										"value": "",
										"label": "Description",
										"required": false
									}, {
										"type": "text",
										"name": "physical_delivery_office_name",
										"value": "",
										"label": "Office name",
										"required": false
									}, {
										"type": "text",
										"name": "email",
										"value": "",
										"label": "Email address",
										"required": false
									}, {
										"type": "text",
										"name": "phone",
										"value": "",
										"label": "Phone number",
										"required": false
									}, {
										"type": "text",
										"name": "company",
										"value": "",
										"label": "Company",
										"required": false
									}, {
										"type": "text",
										"name": "profile_path",
										"value": "",
										"label": "Roaming profile path",
										"required": false
									}, {
										"type": "text",
										"name": "script_path",
										"value": "",
										"label": "Script path",
										"required": false
									}, {
										"type": "text",
										"name": "mobile",
										"value": "",
										"label": "Mobile phone",
										"required": false
									}, {
										"type": "text",
										"name": "home_phone",
										"value": "",
										"label": "Home phone",
										"required": false
									}
								]
							}, {
								"type": "Div",
								"name": "div",
								"class": "right",
								"elements": [{
										"type": "Heading",
										"name": "Fill the form to change data for user"
									}, {
										"type": "Paragraph",
										"name": "The changed data for user will be automatically synchronized with Active Directory."
									}
								]
							}
						]
					},
					"change_password": {
						"title": "Change user password",
						"buttons": [{
								"type": "Button",
								"name": "Cancel",
								"action": "cancel"
							}, {
								"type": "Button",
								"name": "Change",
								"class": "primary",
								"action": "change_password"
							}
						],
						"content": [{
								"type": "Form",
								"name": "form",
								"class": "left",
								"elements": [{
										"type": "password",
										"name": "Password",
										"value": "",
										"label": "Password",
										"required": true
									}
								]
							}, {
								"type": "Div",
								"name": "div",
								"class": "right",
								"elements": [{
										"type": "Heading",
										"name": "Fill the form to change data for user"
									}, {
										"type": "Paragraph",
										"name": "The changed data for user will be automatically synchronized with Active Directory."
									}
								]
							}
						]
					},
					"manage_groupsxx": {
						"title": "Manage groups",
						"buttons": [{
								"type": "Button",
								"name": "Cancel",
								"action": "cancel"
							}, {
								"type": "Button",
								"name": "Submit",
								"class": "primary",
								"action": "manage_groups"
							}
						],
						"content": [{
								"type": "Form",
								"name": "form",
								"class": "left",
								"elements": [{
										"type": "label",
										"name": "Add user to these groups"
									}, {
										"type": "multi_checkbox",
										"name": "info",
										"value": false,
										"label": "Info",
										"required": false
									}, {
										"type": "multi_checkbox",
										"name": "domain_admins",
										"value": false,
										"label": "Domain Admins",
										"required": false
									}, {
										"type": "multi_checkbox",
										"name": "support",
										"value": false,
										"label": "Support",
										"required": false
									}, {
										"type": "multi_checkbox",
										"name": "sales",
										"value": false,
										"label": "Sales",
										"required": false
									}, {
										"type": "multi_checkbox",
										"name": "dev",
										"value": false,
										"label": "Dev",
										"required": false
									}, {
										"type": "multi_checkbox",
										"name": "remote",
										"value": false,
										"label": "Remote Desktop Users",
										"required": false
									}, {
										"type": "label",
										"name": "Remove user from these groups"
									}
								]
							}, {
								"type": "Div",
								"name": "div",
								"class": "right",
								"elements": [{
										"type": "Heading",
										"name": "Manage groups for user : "
									}
								]
							}
						]
					}
				},
				"panels": {
					"list_logins": "directory.list_logins",
					"manage_groups": "directory.manage_group_membership"
				},	
			"actions": [{
						"name": "Edit user",
						"action": "edit_user"
					}, {
						"name": "Change password",
						"action": "change_password"
					}, {
						"name": "Delete user",
						"class": "danger",
						"action": "delete_user"
					}, {
						"name": "Disable user",
						"class": "danger",
						"action": "disable_user"
					}, {
						"name": "Enable user",
						"action": "enable_user"
					}, {
						"name": "Unlock user",
						"action": "unlock_user"
					}, {
						"name": "List logins",
						"action": "list_logins"
					}, {
						"name": "Manage groups",
						"action": "manage_groups"
					}, {
						"name": "Change org. unit",
						"action": "change_ou"
					}
				]
			}
		]
	},
	"directory.groups": {
		"title": "All groups",
		"tbl_source": {
			"table": {
				"action": "panel_get_groups",
				"cols": ["groupname", "description", "email"],
				"defaults": [],
				"val": {}
			},
			"table2": {
				"action": "panel_get_groups",
				"cols": ["groupname", "description", "email"],
				"defaults": [],
				"val": {}
			}
		},
		"content": [{
				"type": "Form",
				"name": "form",
				"class": "tbl-ctrl",
				"elements": [{
						"type": "Button",
						"name": "Add group",
						"glyph": "plus",
						"action": "modal",
						"reducers": ["modal"],
						"modal": {
							"refresh_action": "panel_get_groups",
							"title": "Add a new group",
							"buttons": [{
									"type": "Button",
									"name": "Cancel",
									"action": "cancel"
								}, {
									"type": "Button",
									"name": "Add group",
									"class": "primary",
									"action": "add_group"
								}
							],
							"content": [{
									"type": "Form",
									"name": "form",
									"class": "left",
									"elements": [{
											"type": "text",
											"name": "Groupname",
											"value": "",
											"label": "Group name",
											"required": true
										}
									]
								}, {
									"type": "Div",
									"name": "div",
									"class": "right",
									"elements": [{
											"type": "Heading",
											"name": "Fill the form to add a new group"
										}
									]
								}
							]
						}
					}
				]
			}, {
				"type": "Table",
				"name": "table",
				"reducers": ["table", "filter", "panel", "alert"],
				"columns": [{
						"key": "groupname",
						"label": "Name"
					}, {
						"key": "description",
						"label": "Description"
					}, {
						"key": "email",
						"label": "E-mail",
						"width": "15%"
					}, {
						"key": "action",
						"label": "Actions"
					}
				],
				"panels": {
					"list_group_members": "directory.list_group_members"
				},
				"actions": [{
						"name": "List members",
						"action": "list_group_members"
					}, {
						"name": "Edit e-mail",
						"action": "edit_group_mail"
					}, {
						"name": "Edit description",
						"action": "edit_group_description"
					}, {
						"name": "Delete group",
						"class": "danger",
						"action": "delete_group"
					}
				],
				"id": "groupname",
				"source": "panel_get_groups"
			}, {
				"type": "Button",
				"name": "View more",
				"action": "show",
				"target": "div2",
				"reducers": ["div"]
			}, {
				"type": "Div",
				"name": "div2",
				"class": "hidden",
				"reducers": ["div"],
				"elements": [{
						"type": "Form",
						"name": "form2",
						"class": "tbl-ctrl",
						"elements": [{
								"type": "Button",
								"name": "Add group",
								"glyph": "plus",
								"action": "modal",
								"reducers": ["modal"],
								"modal": {
									"title": "Add a new group",
									"buttons": [{
											"type": "Button",
											"name": "Cancel",
											"action": "cancel"
										}, {
											"type": "Button",
											"name": "Add group",
											"class": "primary",
											"action": "add_group"
										}
									],
									"content": [{
											"type": "Form",
											"name": "form",
											"class": "left",
											"elements": [{
													"type": "text",
													"name": "Groupname",
													"value": "",
													"label": "Group name",
													"required": true
												}
											]
										}, {
											"type": "Div",
											"name": "div",
											"class": "right",
											"elements": [{
													"type": "Heading",
													"name": "Fill the form to add a new group"
												}, {
													"type": "Paragraph",
													"name": "Some more text."
												}
											]
										}
									]
								}
							}
						]
					}, {
						"type": "Table",
						"name": "table2",
						"reducers": ["table", "filter", "panel", "alert"],
						"columns": [{
								"key": "groupname",
								"label": "Name"
							}, {
								"key": "description",
								"label": "Description"
							}, {
								"key": "email",
								"label": "E-mail",
								"width": "10%"
							}, {
								"key": "action",
								"label": "Actions"
							}
						],
						"actions": [{
								"name": "List Members",
								"action": "list_group_members"
							}, {
								"name": "Delete group",
								"class": "danger",
								"action": "delete_group"
							}
						],
						"id": "groupname",
						"source": "panel_get_groups"
					}
				]
			}
		]
	},
	"directory.dns": {
		"title": "DNS entries",
		"tbl_source": {
			"table": {
				"action": "list_dns",
				"cols": ["group_name", "type", "value"],
				"defaults": [],
				"source": {}
			}
		},
		"content": [{
				"type": "Form",
				"name": "form",
				"class": "tbl-ctrl",
				"elements": [{
						"type": "Button",
						"name": "Add DNS entry",
						"glyph": "plus",
						"action": "modal",
						"reducers": ["modal", "alert"],
						"modal": {
							"title": "Add new DNS entry",
							"buttons": [{
									"type": "Button",
									"name": "Cancel",
									"action": "cancel"
								}, {
									"type": "Button",
									"name": "Add entry",
									"class": "primary",
									"action": "add_dns"
								}
							],
							"content": [{
									"type": "Form",
									"name": "form",
									"class": "left",
									"elements": [{
											"type": "text",
											"name": "Entryname",
											"value": "",
											"label": "Entry name",
											"required": false
										}, {
											"type": "dropdown",
											"name": "Type",
											"value": ["A", "AAAA", "MX", "NS", "CNAME"],
											"label": "Type",
											"required": true
										}, {
											"type": "text",
											"name": "Address",
											"value": "",
											"label": "Address",
											"required": false
										}
									]
								}, {
									"type": "Div",
									"name": "div",
									"class": "right",
									"elements": [{
											"type": "Heading",
											"name": "Fill the form to add a new DNS entry"
										}, {
											"type": "Paragraph",
											"name": "For type A use IPv4, for AAAA use IPv6."
										}
									]
								}
							]
						}
					}
				]
			}, {
				"type": "Table",
				"name": "table",
				"reducers": ["table", "filter", "panel", "modal", "alert", "form"],
				"columns": [{
						"key": "group_name",
						"label": "Group name"
					}, {
						"key": "type",
						"label": "Type"
					}, {
						"key": "value",
						"label": "Value"
					}, {
						"key": "action",
						"label": "Actions"
					}
				],
				"modals": {
					"edit_entry": {
						"title": "Edit DNS entry",
						"buttons": [{
								"type": "Button",
								"name": "Cancel",
								"action": "cancel"
							}, {
								"type": "Button",
								"name": "Update entry",
								"class": "primary",
								"action": "dns_update"
							}
						],
						"content": [{
								"type": "Form",
								"name": "form",
								"class": "left",
								"reducers": ["form"],
								"elements": [{
										"type": "readonly_text",
										"name": "Entryname",
										"value": "",
										"label": "Entry name",
										"required": false
									}, {
										"type": "readonly_text",
										"name": "Type",
										"value": "",
										"label": "Type",
										"required": false
									}, {
										"type": "text",
										"name": "Address",
										"value": "",
										"label": "Address",
										"required": false
									}
								]
							}, {
								"type": "Div",
								"name": "div",
								"class": "right",
								"elements": [{
										"type": "Heading",
										"name": "Edit the form to update DNS entry"
									}, {
										"type": "Paragraph",
										"name": "If you leave a blank value, it will not change - the old value will be used."
									}
								]
							}
						]
					}
				},
				"readonly": {
					"group_name": "Entryname",
					"type": "Type"
				},
				"actions": [{
						"name": "Edit record",
						"action": "update_dns_entry"
					}, {
						"name": "Delete record",
						"class": "danger",
						"action": "delete_dns"
					}
				],
				"id": "group_name",
				"source": "list_dns"
			}
		]
	},
	"directory.org_units": {
		"title": "Organizational units",
		"tbl_source": {
			"table": {
				"action": "panel_list_organizational_units",
				"cols": ["name", "description"]
			}
		},
		"content": [{
				"type": "Form",
				"name": "form",
				"class": "tbl-ctrl",
				"elements": [{
						"type": "Button",
						"name": "Add organizational unit",
						"glyph": "plus",
						"action": "modal",
						"reducers": ["modal"],
						"modal": {
							"title": "Add an organizational unit",
							"buttons": [{
									"type": "Button",
									"name": "Cancel",
									"action": "cancel"
								}, {
									"type": "Button",
									"name": "Add",
									"class": "primary",
									"action": "create_organizational_unit"
								}
							],
							"content": [{
									"type": "Form",
									"name": "form",
									"class": "left",
									"elements": [{
											"type": "text",
											"name": "unit",
											"value": "",
											"label": "Name",
											"required": true
										}, {
											"type": "text",
											"name": "description",
											"value": "",
											"label": "Description",
											"required": true
										}
									]
								}, {
									"type": "Div",
									"name": "div",
									"class": "right",
									"elements": [{
											"type": "Heading",
											"name": "Fill the form to add new organizational unit"
										}, {
											"type": "Paragraph",
											"name": ""
										}
									]
								}
							]
						}
					}
				]
			}, {
				"type": "Table",
				"name": "table",
				"reducers": ["table", "panel", "alert"],
				"panels": {
					"get_ou_members": "directory.ou_members"
				},
		
				"columns": [{
						"key": "name",
						"label": "Name"
					}, {
						"key": "description",
						"label": "Description",
						"width": "60%"
					}, {
						"key": "action",
						"label": "Actions"
					}
				],
				"actions": [{
						"action": "get_ou_members",
						"name": "List members"
					}
				],
				"id": ["name"]
			}
		]
	},
	"directory.overview": {
		"title": "Overview",

		"tbl_source": {
			"table_chkf": {
				"action": "panel_check_functionality",
				"cols": ["status", "output"]
			},
			"table_pass": {
				"action": "panel_get_pass_settings",
				"cols": ["key", "value"]
			},
			"table_info": {
				"action": "panel_get_dc_info",
				"cols": ["key", "value"]
			},
			"table_fsmo": {
				"action": "panel_fsmo_show",
				"cols": ["key", "value"]
			},
			"table_gpos": {
				"action": "panel_gpo_polices",
				"cols": ["display name", "gpo"]
			},
			"table_jpcs": {
				"action": "panel_get_pcs",
				"cols": ["hostname"]
			},
			"table_domc": {
				"action": "panel_get_dcs",
				"cols": ["hostname"]
			}
		},
		"content": [{
				"type": "Table",
				"name": "table_chkf",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "status",
						"label": "Status",
						"width": "30%"
					}, {
						"key": "output",
						"label": "Value"
					}
				],
				"id": ["status"],
				"source": "va_utils.check_functionality"
			}, {
				"type": "Table",
				"name": "table_info",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "key",
						"label": "Domain info",
						"width": "30%"
					}, {
						"key": "value",
						"label": "Value"
					}
				],
				"id": ["domain"],
				"source": "panel_get_dc_info"
			}, {
				"type": "Table",
				"name": "table_pass",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "key",
						"label": "Password Setting",
						"width": "30%"
					}, {
						"key": "value",
						"label": "Value"
					}
				],
				"id": ["domain"],
				"source": "panel_get_pass_settings"
			}, {
				"type": "Table",
				"name": "table_fsmo",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "key",
						"label": "FSMO Role",
						"width": "30%"
					}, {
						"key": "value",
						"label": "Owner"
					}
				],
				"id": ["domain"],
				"source": "panel_fsmo_show"
			}, {
				"type": "Table",
				"name": "table_levl",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "key",
						"label": "DC Levels",
						"width": "30%"
					}, {
						"key": "value",
						"label": "Value"
					}
				],
				"id": ["domain"],
				"source": "panel_level_show"
			}, {
				"type": "Table",
				"name": "table_gpos",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "display name",
						"label": "Group Policy",
						"width": "30%"
					}, {
						"key": "gpo",
						"label": "GPO ID"
					}
				],
				"id": ["domain"],
				"source": "panel_gpo_polices"
			}, {
				"type": "Table",
				"name": "table_domc",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "hostname",
						"label": "Domain Controllers",
						"width": "30%"
					}
				],
				"id": ["domain"],
				"source": "panel_get_dcs"
			}, {
				"type": "Table",
				"name": "table_jpcs",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "hostname",
						"label": "Joined Computers"
					}
				],
				"id": ["domain"],
				"source": "panel_get_pcs"
			}
		]
	},
	"directory.list_logins": {
		"title": "Login list",
		"tbl_source": {
			"table": {
				"action": "users_log",
				"var": "info",
				"cols": ["date", "computer", "address"],
				"source": {}
			}
		},
		"content": [{
				"type": "Table",
				"name": "table",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "date",
						"label": "Date"
					}, {
						"key": "computer",
						"label": "Computer"
					}, {
						"key": "address",
						"label": "IP address"
					}
				],
				"source": "users_log"
			}
		]
	},
	"directory.list_group_members": {
		"title": "Group members",
		"tbl_source": {
			"table": {
				"action": "panel_list_group_members",
				"var": "info",
				"cols": ["username"],
				"source": {}
			}
		},
		"content": [{
				"type": "Table",
				"name": "table",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "username",
						"label": "Username"
					}
				],
				"source": "panel_list_group_members"
			}
		]
	},
	"directory.manage_group_membership": {
		"title": "Group membership",
		"tbl_source": {
			"table": {
				"action": "panel_manage_groups",
				"var": "info",
				"cols": ["groupname"],
				"source": {}
			}
		},
		"content": [{
				"type": "Form",
				"name": "form",
				"class": "tbl-ctrl",
				"elements": [{
						"type": "Button",
						"name": "Add to Group",
						"glyph": "plus",
						"action": "modal",
						"reducers": ["modal", "alert"],
						"modal": {
							"title": "Add user to Group",
							"buttons": [{
									"type": "Button",
									"name": "Cancel",
									"action": "cancel"
								}, {
									"type": "Button",
									"name": "Add entry",
									"class": "primary",
									"action": "xxxxx_user_to_group"
								}
							],
							"content": [{
									"type": "Form",
									"name": "form",
									"class": "left",
									"elements": [{
											"type": "dropdown",
											"name": "Type",
											"value": ["Group A", "Group B", "Group C"],
											"label": "Group",
											"required": true
										}, {
										}
									]
								}, {
									"type": "Div",
									"name": "div",
									"class": "right",
									"elements": [{
											"type": "Heading",
											"name": "Choose a group to add user to"
										}, {
											"type": "Paragraph",
											"name": "User can be member in multiple groups."
										}
									]
								}
							]
						}
					}
				]
			},{
				"type": "Table",
				"name": "table",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "groupname",
						"label": "Group"
					}, {
						"key": "action",
						"label": "Actions"
					}
				],
				"actions": [{
						"action": "xxxxx_rm_user_from_group",
						"name": "Remove from group"
					}
				],
				"source": "panel_manage_groups",
				"id": "groupname, username"
			}
		]
	},
	"directory.ou_members": {
		"title": "OU Members",
		"tbl_source": {
			"table": {
				"action": "panel_ou_members",
				"var": "info",
				"cols": ["member", "type"],
				"source": {}
			}
		},
		"content": [{
				"type": "Table",
				"name": "table",
				"reducers": ["table", "panel", "alert"],
				"columns": [{
						"key": "member",
						"label": "Member"
					},{
					"key": "type",
					"label": "Type"
				}
			],
			"source": "panel_ou_members"
		}
		]
	}
	}

